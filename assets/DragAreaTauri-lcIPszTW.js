import{_ as d,e as o,f as v,u as n,d as y,t as i,i as s}from"./index-4PcOKvuf.js";import{i as p,a as m,u as g,l as t}from"./useMount-H1znP_rr.js";async function h(e={}){return typeof e=="object"&&Object.freeze(e),p({__tauriModule:"Dialog",message:{cmd:"openDialog",options:e}})}var b=function(e){var r=d(e);r.current=e,m(function(){return function(){return r.current()}})};function D(){const e=o(!1),r=v();async function c(){e.value=!0;try{const a=await h({multiple:!0,title:i("home.dragTitle")});if(a===null)return;s.value=typeof a=="string"?[a]:a,r.route("/edit")}finally{e.value=!1}}const u=o([]),l=o(!1);return g(async()=>(u.value=await Promise.all([t("tauri://file-drop",a=>{console.log("tauri://file-drop",a.payload,l.value,e.value),!(!e.value||a.payload===null||!Array.isArray(a.payload)||a.payload.length===0||!a.payload.every(f=>typeof f=="string"))&&(e.value=!1,s.value=a.payload,r.route("/edit"))}),t("tauri://file-drop-cancelled",()=>{e.value=!1}),t("tauri://file-drop-hover",()=>{e.value=!0})]),()=>{console.log("remove")})),b(()=>u.value.map(a=>a())),n("div",{class:y("text-center flex h-64 items-center justify-center rounded-lg border-2 border-dashed",e.value?"border-blue-500":"border-gray-400"),onMouseEnter:()=>l.value=!0,onMouseMove:()=>l.value=!0,onMouseLeave:()=>l.value=!1,onClick:c,children:n("p",{className:"text-gray-500",children:i("home.dragTitle")})})}export{D as DragAreaTauri,D as default};
